# Аналіз Стеку Платформи Даних

Цей документ містить короткий аналіз архітектури, визначеної у файлі `DataPlatform.yml`, та оцінку щоденних витрат на її експлуатацію в AWS.

## 1. Короткий опис архітектури

Стек представляє собою сучасну платформу даних (Modern Data Platform) на базі AWS:

*   **Оркестрація:** Airflow (Webserver + Scheduler), розгорнутий на **ECS Fargate**. Для метаданих використовується **RDS Postgres (`db.t3.micro`)**, а для спільного доступу до DAG-файлів — **EFS**.
*   **Сховище та Аналітика:**
    *   **Data Lake:** S3 з декількома рівнями обробки (`raw`, `bronze`, `silver`, `gold`).
    *   **DWH:** **Redshift Serverless** (8 RPU) для аналітичних запитів.
    *   **Athena:** Сервіс для SQL-запитів по S3 без потреби в серверах.
*   **Інтеграція та Метадані:** **Glue Crawlers** для автоматичного оновлення каталогу даних та з'єднання (JDBC) для Redshift.
*   **Мережа:** VPC з публічними та приватними підмережами, **NAT Gateway** для приватного виходу в інтернет та **Application Load Balancer (ALB)** для доступу до веб-інтерфейсу Airflow.

## 2. Щоденні витрати (Daily Costs Summary)

*Розрахунок базується на середніх цінах (регіон us-east-1).*

| Компонент | Роль | Ціна/День ($) |
| :--- | :--- | :--- |
| **NAT Gateway** | Шлюз для приватних підмереж (фіксована плата) | ~$1.08 |
| **ALB** | Вхідна точка для веб-інтерфейсу Airflow | ~$0.54 |
| **Airflow (ECS Fargate)** | Робота Webserver та Scheduler (24/7) | ~$1.15 |
| **RDS (db.t3.micro)** | База метаданих для Airflow | ~$0.41 |
| **Redshift Serverless** | 8 RPU (сплачується тільки час обробки) | $0.00 (в спокої) / ~$3.00 (за 1 год) |
| **Інше (S3/EFS/Logs)** | Зберігання даних, логів та DAG-файлів | ~$0.50 |
| **Glue / Athena** | Обробка та запити (pay-as-you-go) | ~$1.00 (оціночно) |
| **Разом (Режим очікування)** | **Базове щоденне утримання** | **~$3.68** |
| **Разом (Активна фаза)** | **З урахуванням 1 години роботи Redshift** | **~$7.68+** |

## 3. Висновки

*   **Розгортання:** Сама процедура розгортання через CloudFormation безкоштовна, оплата починає нараховуватись одразу після створення ресурсів.
*   **Економіка:** Найбільші фіксовані витрати генерують **NAT Gateway** та **Load Balancer** (~$48/місяць), що є нормою для професійних архітектур, але може бути відчутним для малих проектів.
*   **Redshift Serverless:** Дуже вигідний для нерегулярних навантажень, оскільки плата за обчислення (RPUs) не нараховується, коли немає активних запитів.

---
*Документ підготовлено для оцінки проекту `Data-Ingeneering-Practice`.*
